@use '~scss/mixins/colors' as colors;
@use '~scss/mixins/flexes' as flexes;
@use '~scss/mixins/breakpoints' as media;
@use '~scss/mixins/fonts' as fonts;

.benefit {
	$inRow: 3;
	$mobileBreakpoint: lg;

	background-color: #{ colors.getColor('highlight') };
	padding: 45px 0 35px;

	&__container {
		display: grid;
		grid-template-columns: repeat(3, 1fr);

		@include media.breakpoint($mobileBreakpoint) {
			grid-template-columns: 1fr;
		}
	}

	&__item {
		margin-right: 25px;

		&:nth-child(3n) {
			margin-right: 0;
		}

		@include media.breakpoint($mobileBreakpoint) {
			margin-right: 0;
			border-bottom: 1px solid #000;
			padding-bottom: 40px;
			margin-bottom: 45px;

			&:last-child {
				border-bottom: none;
			}
		}

		&-header {
			@include flexes.flexRowStart;

			border-bottom: 1px solid #000;
			padding-bottom: 25px;
			margin-bottom: 25px;
			align-items: center;

			@include media.breakpoint($mobileBreakpoint) {
				border-bottom: none;
				padding-bottom: 0;
				margin-bottom: 30px;
			}
		}

		&-number {
			--blockSize: 60px;

			display: block;
			width: var(--blockSize);
			height: var(--blockSize);

			@include media.breakpoint($mobileBreakpoint) {
				--blockSize: 40px;
			}

			svg {
				min-width: 100%;
				height: 100%;
				max-width: var(--blockSize);
				stroke: var(--mainColor);
			}
		}

		&-title {
			color: #{ colors.getColor('black') };
			font-size: #{ fonts.calcSize(26px) };
			font-weight: 500;
			line-height: 30px;
			padding-inline-start: 30px;

			@include media.breakpoint($mobileBreakpoint) {
				padding-inline-start: 15px;
				max-height: initial;
				font-size: 1em;
				line-height: 18px;
			}
		}

		&-description {
			font-size: #{ fonts.calcSize(16px) };
			color: #{ colors.getColor('black') };

			@include media.breakpoint($mobileBreakpoint) {
				display: none;
				font-size: #{ fonts.calcSize(16px) };
			}

			&_mobile {
				display: none;

				@include media.breakpoint($mobileBreakpoint) {
					display: block;
				}
			}

			p {
				margin-bottom: 10px;

				&:last-child {
					margin-bottom: 0;
				}
			}
		}

		&.show-detail &-description {
			display: block;

			&_mobile {
				display: none;
			}
		}

	}

	&__more-button {
		color: var(--mainColor);

		span {
			border-bottom: 1px dashed var(--mainColor);
			pointer: cursor;
		}
	}

	&_with-image &__container {
		gap: 25px;

		@include media.breakpoint(lg) {
			grid-template-columns: repeat(2, 1fr);
		}

		@include media.breakpoint(sm) {
			grid-template-columns: 1fr;
		}
	}

	&_with-image &__item {
		display: grid;
		grid-template-rows: 450px 1fr;
		margin: 0;

		@include media.breakpoint(xxl) {
			grid-template-rows: 400px 1fr;
		}

		@include media.breakpoint(lg) {
			grid-template-rows: auto 1fr;
		}

		&-header {
			@include flexes.flexColumnStart;

			position: relative;
			border: none;
			padding: 0;
		}

		&-title {
			color: inherit;
			padding: 60px 40px 0 var(--leftPadding);
			max-height: 100%;
			font-size: #{ fonts.calcSize(20px) };

			@include media.breakpoint(md) {
				padding: 35px 20px 15px 25px;
				min-height: 8em;
			}

			&-word {
				display: block;
				font-size: 1.4em;
				font-weight: bold;
				margin-bottom: 1rem;
			}
		}

		&-number {
			--blockSize: initial;
			--bgColor: var(--mainColor);

			position: absolute;
			top: 0;
			left: var(--leftPadding);
			transform: translateY(-50%);
			padding: 1em;
			background-color: var(--bgColor);

			&_1 {
				--bgColor: var(--secondaryColor);
			}

			&_2 {
				--bgColor: #{ colors.getColor('third') };
			}
		}

		&-description {
			color: #{ colors.getColor('grey') };
			line-height: 1.5em;
			grid-row-start: 2;
			font-size: #{ fonts.calcSize(14px) };

			@include media.breakpoint(sm) {
				font-size: 1em;
			}

			b {
				color: colors.getColor('black');

				&:first-of-type {
					font-size: 1.4em;
					line-height: 1.5em;

					@include media.breakpoint(sm) {
						font-size: 1.2em;
					}
				}
			}
		}
	}

	&_with-image &__image {
		width: 100%;
		height: 100%;
		overflow: hidden;

		&-text {
			--leftPadding: 28px;

			position: absolute;
			bottom: 0;
			left: 0;
			background-color: rgba(0, 0, 0, .6);
			color: #{ colors.getColor('white') };
			width: 80%;
			height: 200px;

			@include media.breakpoint(sm) {
				max-width: 90%;
				height: initial;
				max-height: 60%;
			}
		}
	}

	&_with-image &__picture {
		display: block;
		width: 100%;
		height: 100%;
	}

	&_with-image &__img {
		width: 100%;
		height: 100%;
	}

}
